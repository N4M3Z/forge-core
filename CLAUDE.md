# CLAUDE.md

> `CLAUDE.md` and `AGENTS.md` are autogenerated by `/Init`. Do not edit directly -- run `/Update` to regenerate.

Module-building skills for the forge ecosystem. Teaches AI coding tools to create skills, scaffold agents, and architect modules.

## Skills

| Skill | What it does |
|-------|-------------|
| **BuildSkill** | Create and validate skill definitions (SKILL.md structure, frontmatter, conventions) |
| **BuildAgent** | Scaffold, validate, and audit agent markdown files (frontmatter, body structure, deployment) |
| **BuildModule** | Design and validate forge modules (directory layout, config convention, three-layer architecture) |
| **BuildHook** | Create and validate module hooks (event handling, hook scripts, platform wiring) |
| **RTK** | RTK (Rust Token Killer) token-optimized CLI proxy setup and reference |

## Install / Verify

```bash
make install          # deploy skills (Claude, Gemini, Codex, OpenCode)
make verify           # check skills deployed across all providers
make clean            # remove previously installed skills
make test             # validate-module convention checks
make lint             # shellcheck all scripts
```

## Architecture

```
skills/
  BuildSkill/       SKILL.md + SKILL.yaml + ClaudeSkill.md (@ reference patterns)
  BuildAgent/       SKILL.md + SKILL.yaml + ClaudeAgent.md (agent deployment patterns)
  BuildModule/      SKILL.md + SKILL.yaml
  BuildHook/        SKILL.md + SKILL.yaml
  RTK/              SKILL.md + SKILL.yaml
lib/                git submodule -> forge-lib (Rust binaries for deployment + validation)
defaults.yaml       skill roster
config.yaml         user overrides (gitignored), same structure as defaults
module.yaml         module metadata (name, version)
.claude-plugin/     plugin.json manifest for Claude Code plugin discovery
```

Platform directories (`.claude/`, `.gemini/`, `.codex/`, `.opencode/`) are generated by `make install` and gitignored. Source of truth is `skills/` and `defaults.yaml`.

## Conventions

### Skill Files (`skills/*/`)

Each skill directory contains:
- `SKILL.md` -- AI instructions (frontmatter: name, description, version)
- `SKILL.yaml` -- sidecar metadata (sources URLs; no name/description â€” those live in SKILL.md)
- Optional companion `.md` files referenced via `@` includes (e.g., `ClaudeSkill.md`, `ClaudeAgent.md`)

### Configuration

- `defaults.yaml`: canonical skill roster -- edit only when adding/removing skills
- `config.yaml`: user overrides (gitignored) -- same structure, only changed fields
- `module.yaml`: module metadata -- update `version` on releases

### forge-lib Submodule (`lib/`)

Git submodule from `forge-lib`. Provides Rust binaries: `install-skills` (provider-aware skill installer), `validate-module` (convention test suite). Built via `make -C lib build`. If missing: `git submodule update --init`.

### Git

Conventional Commits: `type: description`. Lowercase, no trailing period, no scope.

Types: `feat`, `fix`, `docs`
